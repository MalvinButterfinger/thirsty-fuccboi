<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>THIRSTY FUCCBOI</title>
    <script src="js/bufferLoader.js" type="application/javascript"></script>
    <script src="js/game.js" type="application/javascript"></script>
    <script src="js/graphics.js" type="application/javascript"></script>
</head>
<body id="body" style="background: black;">
<script type='text/javascript'>
    var CANVAS_WIDTH = window.innerWidth - 20;
    var CANVAS_HEIGHT = window.innerHeight - 20;

    var player = {
        x: 200,
        y: 200
    };

    var level = generateLevel();
    var sprites = generateSprites();

    window.addEventListener('keyup', function(event) { controls.onKeyup(event); }, false);
    window.addEventListener('keydown', function(event) { controls.onKeydown(event); }, false);


    var c = createCanvas(CANVAS_WIDTH, CANVAS_HEIGHT);
    var canvasElement = c.e;
    var canvas = c.c;

    document.getElementById("body").appendChild(canvasElement);

    canvasElement.onmousemove = function(e) {
        controls.mouseX = e.clientX;
        controls.mouseY = e.clientY;
    };

    var time=0;
    function step(t) {
        if (!time) time=t;
        var diff = (t-time) / 1000;
        time = t;
        update(diff);
        draw(canvas, CANVAS_WIDTH, CANVAS_HEIGHT);
        window.requestAnimationFrame(step);
    }
    window.requestAnimationFrame(step);




    //]]>
</script>
</body>
</html>